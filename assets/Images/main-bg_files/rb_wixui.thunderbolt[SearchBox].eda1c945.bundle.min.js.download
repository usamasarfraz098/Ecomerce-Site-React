!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[SearchBox]",["imageClientApi","react","reactDOM"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[SearchBox]"]=t(require("@wix/image-kit"),require("react"),require("react-dom")):e["rb_wixui.thunderbolt[SearchBox]"]=t(e.__imageClientApi__,e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,(function(e,t,n){return function(){var o={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},95561:function(e){"use strict";e.exports=n},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return function(){"use strict";r.r(l),r.d(l,{components:function(){return wt}});var e=r(448),t=r.n(e),n=r(5329),o=r.n(n);function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var i=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o};const s=13,u=27,c=38,d=40;function m(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const p=m(32),g=m(s),f=e=>{g(e),p(e)},h=(m(u),"has-custom-focus"),v=()=>"undefined"!=typeof window,b=e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{});const y=(...e)=>e.map((e=>e?`wixui-${e}`:"")).join(" ");var E={root:"search-bar",icon:"search-bar__icon",input:"search-bar__input"},S="HlRz5e",C=r(42662);const{STATIC_MEDIA_URL:w}=C,x=({fittingType:e,src:t,target:n,options:o})=>{const a=C.getPlaceholder(e,t,n,{...o,autoEncode:!0});return a?.uri&&!/^[a-z]+:/.test(a.uri)&&(a.uri=`${w}${a.uri}`),a},I=/^[a-z]+:/;var k=e=>{const{id:t,containerId:o,uri:a,alt:r,name:l="",role:i,width:s,height:u,displayMode:c,devicePixelRatio:d,quality:m,alignType:p,bgEffectName:g="",focalPoint:f,upscaleMethod:h,className:v="",crop:b,imageStyles:y={},targetWidth:E,targetHeight:C,targetScale:k,onLoad:L=(()=>{}),onError:M=(()=>{}),shouldUseLQIP:N,containerWidth:O,containerHeight:V,getPlaceholder:R,isInFirstFold:T,placeholderTransition:P,socialAttrs:_,isSEOBot:D,skipMeasure:F,lazyLoadImgExperimentOpen:A,hasAnimation:B,allowWEBPTransform:j}=e,q=n.useRef(null);let H="";const K="blur"===P,W=n.useRef(null);if(!W.current)if(R||N||T||D){const e={upscaleMethod:h,...m||{},shouldLoadHQImage:T,isSEOBot:D,hasAnimation:B,allowWEBPTransform:j};W.current=(R||x)({fittingType:c,src:{id:a,width:s,height:u,crop:b,name:l,focalPoint:f},target:{width:O,height:V,alignment:p,htmlTag:"img"},options:e}),H=!W.current.transformed||T||D?"":"true"}else W.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const U=!D&&(R||N)&&!T&&W.current.transformed,X=n.useMemo((()=>JSON.stringify({containerId:o,...o&&{containerId:o},...p&&{alignType:p},...F&&{skipMeasure:!0},displayMode:c,...O&&{targetWidth:O},...V&&{targetHeight:V},...E&&{targetWidth:E},...C&&{targetHeight:C},...k&&{targetScale:k},isLQIP:U,isSEOBot:D,lqipTransition:P,imageData:{width:s,height:u,uri:a,name:l,displayMode:c,hasAnimation:B,...m&&{quality:m},...d&&{devicePixelRatio:d},...f&&{focalPoint:f},...b&&{crop:b},...h&&{upscaleMethod:h}}})),[o,p,F,c,V,O,E,C,k,U,D,P,s,u,a,l,m,d,f,b,h,B]),Z=W.current,z=Z?.uri,Q=Z?.srcset,$=Z.css?.img,J=`${S} ${v}`;n.useEffect((()=>{const e=q.current;L&&e?.currentSrc&&e?.complete&&L({target:q.current})}),[]);const Y=Z&&!Z?.transformed?`max(${s}px, 100%)`:E?`${E}px`:null;return n.createElement("wow-image",{id:t,class:J,"data-image-info":X,"data-bg-effect-name":g,"data-has-ssr-src":H,"data-animate-blur":!D&&U&&K?"":void 0,style:Y?{"--wix-img-max-width":Y}:{}},n.createElement("img",{src:z,ref:q,alt:r||"",role:i,style:{...$,...y},onLoad:L,onError:M,...O&&{width:O},...V&&{height:V},..._,...T?{srcSet:Q?.dpr?.map((e=>I.test(e)?e:`${w}${e}`)).join(", "),fetchpriority:"high"}:A?{loading:"lazy"}:{}}))};let L=function(e){return e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Empty=2]="Empty",e[e.Hidden=3]="Hidden",e}({});function M(e){const[t,o]=(0,n.useState)((a=e.image)?a.name?v()?L.Loading:L.Loaded:L.Empty:L.Hidden);var a;return{onError:()=>o(L.Empty),onLoad:()=>o(L.Loaded),thumbnailState:t}}var N="U603xX",O="FedNkl",V="Z3eRZ6",R="UXNCo3",T="D_fVyl",P="CA8K4D",_="zQjJyB";const D=e=>{var t,n,a;let{action:r,id:l,item:s}=e;const{thumbnailState:u,onError:c,onLoad:d}=M(s),m="fit"===(null==(t=s.image)?void 0:t.resizeMode)?"fit":"fill";return o().createElement("div",{className:N,title:s.title,onClick:()=>r()},u!==L.Hidden&&o().createElement("div",{className:i(V,{[R]:u===L.Empty,[T]:u===L.Loading}),"data-testid":"thumbnail"},u!==L.Empty&&o().createElement(k,{alt:s.title,containerId:l,displayMode:m,height:(null==(n=s.image)?void 0:n.height)||55,id:"thumb-"+l,name:s.title,onError:c,onLoad:d,uri:s.image.name,width:(null==(a=s.image)?void 0:a.width)||73})),o().createElement("div",{className:O},o().createElement("span",{className:P,dangerouslySetInnerHTML:{__html:s.title}}),s.description&&o().createElement("p",{className:_,dangerouslySetInnerHTML:{__html:s.description}})))};var F="u6Qhf2",A="Nn5HXB";const B=e=>{let{item:t}=e;return n.createElement("div",{className:F},n.createElement("div",{className:A},n.createElement("span",null,t.title)))};var j="k6cep8",q="Zg1VXg",H="q0F5lM";const K=e=>{let{scrollIntoRef:t,suggestions:o}=e;return n.createElement("div",{className:i(j,{[q]:!(null!=o&&o.footer)}),role:"listbox"},null==o?void 0:o.items.map((e=>{let{action:o,id:a,isActive:r,item:l,testId:s,type:u}=e;return n.createElement("div",{"aria-selected":r,className:i({[H]:!!l.url}),"data-testid":s,key:a,ref:r?t:void 0,role:"option"},"item"===u?n.createElement(D,{action:o,id:a,item:l}):n.createElement(B,{action:o,id:a,item:l}))})))};var W;function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U.apply(this,arguments)}var X=function(e){return n.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"5 5 14 14"},e),W||(W=n.createElement("path",{fill:"currentColor",d:"m15.683 14.6 3.265 3.265a.2.2 0 0 1 0 .282l-.8.801a.2.2 0 0 1-.283 0l-3.266-3.265a5.961 5.961 0 1 1 1.084-1.084zm-4.727 1.233a4.877 4.877 0 1 0 0-9.754 4.877 4.877 0 0 0 0 9.754z"})))};const Z="search-suggestion-item-";var z="GWiB9A",Q="q6kVwv";const $=e=>{let{children:t,onClick:o}=e;return n.createElement("div",{className:z},n.createElement("button",{className:Q,role:"link","data-testid":"suggestions-show-all-button",onClick:o},t))};var J="g3as8r",Y="TrbL5O",G="h0H1OP";const ee=e=>{let{id:t,onSuggestionsFooterClick:o,query:a,translations:r,useModalSuggestions:l}=e;const i=r.footerSearchAllText+' "'+a+'"',s=()=>{null==o||o({type:"suggestionsFooterClick",compId:t})};return l?n.createElement($,{onClick:s},i):n.createElement("button",{className:J,role:"link","data-testid":"footer-link",onClick:s},n.createElement(X,{className:Y}),n.createElement("span",{className:G},i))};var te="_xpJkc",ne="JK71Yc",oe="oRg3Ie",ae="UaSQpI";const re=e=>{(e=>{let{callback:t,ref:o,elem:a}=e;(0,n.useEffect)((()=>{const e=new ResizeObserver(t);return null!=o&&o.current&&e.observe(o.current),a&&e.observe(a),()=>{e.disconnect()}}),[o,a,t])})({callback:(0,n.useCallback)((()=>{var t,n;const o=null==e||null==(t=e.current)?void 0:t.clientHeight;null==e||null==(n=e.current)||n.style.setProperty("--component-height",o+"px")}),[e]),ref:e})},le=e=>{let{id:t,children:o,parentRef:a,isSuggestionsShown:r,onSuggestionsFooterClick:l,query:s,scrollIntoRef:u,suggestions:c,translations:d,useModalSuggestions:m}=e;return re(a),n.createElement("div",{className:i(te,{[ne]:r})},n.createElement("div",{className:oe},o),r&&n.createElement("div",{className:ae,"aria-hidden":"true"},n.createElement(K,{scrollIntoRef:u,suggestions:c}),(null==c?void 0:c.footer)&&n.createElement(ee,{id:t,onSuggestionsFooterClick:l,query:s,translations:d,useModalSuggestions:m})))};function ie(e,t){const{id:o,value:a,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:i}=e,[s,u]=n.useState(-1),c=n.useRef(null);n.useEffect((()=>{c.current&&(null==c.current.scrollIntoView||c.current.scrollIntoView(!1))}),[s]),n.useEffect((()=>{t||u(-1)}),[t]),n.useEffect((()=>{u(-1)}),[a]);const d=n.useMemo((()=>function(e,t){let{id:n,suggestions:o,onSuggestionGroupSelect:a,onSuggestionSelect:r}=e;return null!=o&&o.items?{...o,items:o.items.map(((e,o)=>{const l=e.type,i=[Z,o],s=i.join("");return"image"in e&&e.image&&i.push(e.image.name),{action:()=>{const t={compId:n,syntheticEvent:e};"group"===l?null==a||a({type:"suggestionGroupSelect",...t}):null==r||r({type:"suggestionSelect",...t})},id:i.join("_"),isActive:o===t,item:{...e,url:"group"===l?void 0:e.url},testId:s,type:l}}))}:{...o,items:[]}}({id:o,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:i},s)),[s,o,r,l,i]),m=d.items.filter((e=>e.item.url)),p=m.length,g=m.findIndex((e=>{var t;return e.id===(null==(t=d.items[s])?void 0:t.id)}));return{moveDown:()=>{const e=g<p-1?g+1:0;u(d.items.findIndex((t=>{var n;return t.id===(null==(n=m[e])?void 0:n.id)})))},moveUp:()=>{const e=g>0?g-1:p-1;u(d.items.findIndex((t=>{var n;return t.id===(null==(n=m[e])?void 0:n.id)})))},navigate:()=>{try{var e;null==d||null==(e=d.items)||e[s].action()}catch(e){console.error("Error while navigating",e)}},scrollIntoRef:c,activeOptionIndex:s,suggestionsWithNavigation:d}}const se=function(e,t,o,a){void 0===a&&(a=!0),(0,n.useEffect)((()=>{const n=e=>{const n=e.target;if(n){for(const e of t){var a;if(e instanceof HTMLElement){if(e&&e.contains(n))return}else if(null!=e&&null!=(a=e.current)&&a.contains(n))return}o()}};return document.addEventListener(e,n,a),()=>{document.removeEventListener(e,n,a)}}),[...t,o,e])};var ue,ce=r(95561);function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},de.apply(this,arguments)}var me=function(e){return n.createElement("svg",de({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),ue||(ue=n.createElement("path",{d:"m15.071 5 .707.707-6.364 6.363 6.364 6.365-.707.707L8 12.071 15.071 5Z",fill:"currentColor"})))},pe="XeX7vS",ge="r_WbdF",fe="ZxQq8q";const he=e=>{let{direction:t,onClick:o}=e;return n.createElement("div",{className:pe,"data-testid":"modalSearchSuggestionsCloseButton",onClick:o},n.createElement(me,{className:i(ge,{[fe]:"rtl"===t})}))};var ve="fuYJV8",be="q4fpr5",ye="WRjDFM";const Ee=()=>n.createElement("div",{className:ve,"data-testid":"suggestions-loader"},n.createElement("svg",{viewBox:"0 0 50 50",className:be},n.createElement("circle",{className:ye,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"2"})));var Se="RlO8U_",Ce="Q2YYMa",we="oEUJj7",xe="TaFPqR";const Ie=e=>{let{children:t,clearValue:o,closeSuggestions:a,direction:r,id:l,inputRef:i,onSuggestionsFooterClick:s,query:u,scrollIntoRef:c,suggestions:d,suggestionsLoading:m,translations:p,scopedClassName:g}=e;const[f,h]=n.useState();n.useEffect((()=>{const e=document.createElement("div");return document.body.appendChild(e),g&&e.classList.add(g),h(e),()=>{document.body.removeChild(e)}}),[g]);return n.useEffect((()=>{setTimeout((()=>{var e;null==(e=i.current)||e.focus()}),400)}),[]),f?(0,ce.createPortal)(n.createElement("div",{dir:r,className:Se,"data-testid":"modalSearchSuggestions",role:"dialog"},n.createElement("div",{className:Ce},n.createElement(he,{direction:r,onClick:()=>{a(),o()}}),n.createElement("div",{className:we},t)),n.createElement("div",{className:xe,onScroll:()=>{var e;null==(e=i.current)||e.blur()}},n.createElement(K,{scrollIntoRef:c,suggestions:d}),(null==d?void 0:d.footer)&&n.createElement(ee,{id:l,onSuggestionsFooterClick:s,query:u,translations:p,useModalSuggestions:!0}),m&&n.createElement(Ee,null))),f):null},ke=({size:e,...t})=>n.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:e||"20",height:e||"20",...t},n.createElement("path",{fillRule:"evenodd",d:"M9.5,3 C13.084,3 16,5.916 16,9.5 C16,13.084 13.084,16 9.5,16 C5.916,16 3,13.084 3,9.5 C3,5.916 5.916,3 9.5,3 Z M9.5,4 C6.467,4 4,6.467 4,9.5 C4,12.533 6.467,15 9.5,15 C12.533,15 15,12.533 15,9.5 C15,6.467 12.533,4 9.5,4 Z M10,11 L10,12 L9,12 L9,11 L10,11 Z M10,7 L10,10 L9,10 L9,7 L10,7 Z"}));ke.displayName="ErrorSmall";var Le=ke,Me="TLWrjM",Ne="GIPQqH",Oe="JNgJbf";const Ve=e=>{let{errorMessage:t,errorMessageType:o,shouldShowValidityIndication:a,translations:r,dataHook:l,componentViewMode:i}=e;const s="editor"===i?(null==r?void 0:r.errorMessage)||"Error text displays here.":t;return"inline"===o&&a&&s?n.createElement("div",{"data-hook":l||"inline-error-message",className:Me},n.createElement(Le,{className:Ne}),n.createElement("span",{className:Oe},s)):null};var Re={root:"text-input",inputEl:"text-input__input",inputLabel:"text-input__label"},Te={input:"KvoMHf",hideNumberSpinner:"ErucfC",AppsTextInputSkin:"MpKiNN",appsTextInputSkin:"MpKiNN",inputWrapper:"pUnTVX",prefix:"eXvLsN","validation-indication":"LyB02C",validationIndication:"LyB02C",label:"wPeA6j",hasLabel:"qzvPmW","required-indication":"lPl_oN",requiredIndication:"lPl_oN",ResponsiveTextInputSkin:"ZXdXNL",responsiveTextInputSkin:"ZXdXNL",keepInputHeight:"Bedjyp"};const Pe="Please enter a phone number with {digits} digits",_e="Please enter between 4 to 17 digits. You can include hyphens (-) or start with a (+), e.g., 555-123-4567 or +(222)987654321",De="Please enter between 4 to 17 digits. You can include dividers (-), e.g., 555-123-4567.",Fe=function(e,t,n){void 0===n&&(n=!0);return Array.from(t).reduce(((e,t,n)=>"-"===t?[...e,n]:e),[]).filter(((t,o)=>n?t<=e.length:t<=e.length+o))},Ae=(e,t)=>t.replace("{digits}",""+(e?e.replace(/-/g,"").length:0)),Be=()=>{},je=(e,o)=>{var a;const{skin:r,name:l,id:s,className:u="",customClassNames:c=[],dataTestId:d,value:m,inputType:p="text",label:g,placeholder:f,readOnly:v,required:E,isDisabled:S,pattern:C,autoComplete:w,autoComplete_:x,maxLength:I,min:k,max:L,step:M,numberSpinnerHidden:N,shouldShowValidityIndication:O,isValid:V,autoFocus:R,prefix:T,phoneFormat:P="",errorMessageType:_="tooltip",validateValue:D=Be,setValidityIndication:F=Be,onBlur:A=Be,onFocus:B=Be,onKeyPress:j=Be,onInput:q=Be,onValueChange:H=Be,onChange:K=Be,onClick:W=Be,onDblClick:U=Be,onMouseEnter:X=Be,onMouseLeave:Z=Be,ariaAttributes:z,contentRef:Q,translations:$,componentViewMode:J,keepInputHeightEnabled:Y,textInputAutoFillFixEnabled:G}=e,ee=n.useRef(null);n.useImperativeHandle(o,(()=>({focus:()=>{var e;null==(e=ee.current)||e.focus()},blur:()=>{var e;null==(e=ee.current)||e.blur()},setCustomValidity:t=>{var n,o;"message"===t.type?null==(n=ee.current)||n.setCustomValidity(t.message):null==(o=ee.current)||o.setCustomValidity(((e,t)=>{let{translations:n,phoneFormat:o}=t;switch(e.key){case"PHONE_FORMAT_LENGTH_VALIDATION_ERROR":return Ae(o,(null==n?void 0:n.phoneFormatLengthValidationError)||Pe);case"PHONE_FORMAT_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatDefaultValidationError)||_e;case"PHONE_FORMAT_COMPLEX_PHONE_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatComplexPhoneDefaultValidationError)||De;default:return e.key}})(t,{translations:e.translations,phoneFormat:e.phoneFormat}))},getValidationMessage:()=>{var e;return null==(e=ee.current)?void 0:e.validationMessage}})));const[te,ne]=n.useState(),oe=n.useMemo((()=>"tel"===p&&P?((e,t)=>{const n=Fe(e,t,!1),o=Array.from(e);return n.forEach((e=>{e<o.length&&o.splice(e,0," ")})),o.join("")})(m,P):m),[m,P,p]),ae=e=>{let{shouldSetValidityIndication:t,shouldCallOnInput:n}=e;return e=>{const{value:o}=e.target;let a=o;if(P){const e=o.length<oe.length;if(a=((e,t,n)=>{const o=Fe(e,t);return o.reduce(((t,a,r)=>{if(" "===e[a])t.splice(a-r,1);else if(" "!==e[a+1]||n)" "===e[a-1]&&n&&(e.split(" ").length-1<o.length?t.splice(a-r,1):t.splice(a-r-1,1));else{const e=1-r;t.splice(a+e,1)}return t}),Array.from(e)).join("")})(o,P,e),a.match(/[^\d]/))return}ne(!0),H(a),D(),G&&te&&K({...e,type:"change"}),t&&F(!1),n&&q(e)}},re=n.useRef({value:""});n.useEffect((()=>{re.current.value=m}),[m]),n.useEffect((()=>{var e;re.current.value=(null==(e=ee.current)?void 0:e.value)||"",setTimeout((()=>{ae({shouldSetValidityIndication:!0,shouldCallOnInput:!1})({target:{value:re.current.value}})}),0)}),[]);const le=i(Te[r],u,y(Re.root,...c),{[Te.hasLabel]:!!g,[Te.requiredIndication]:E,[Te.validationIndication]:!!O},Y?Te.keepInputHeight:null),{"aria-label":ie,...se}=(({pressed:e,expanded:t,haspopup:n,label:o,live:a,relevant:r,current:l,owns:i,controls:s,roleDescription:u,hidden:c,disabled:d,describedBy:m,labelledBy:p,errorMessage:g,atomic:f,role:h,busy:v,...b}={})=>{const y=b.tabIndex??b.tabindex,E={};return o&&(E["aria-label"]=o),a&&(E["aria-live"]=a),l&&(E["aria-current"]=l),e&&(E["aria-pressed"]=e),"boolean"==typeof c&&(E["aria-hidden"]=c),"boolean"==typeof t&&(E["aria-expanded"]=t),"boolean"==typeof d&&(E["aria-disabled"]=d),"boolean"==typeof f&&(E["aria-atomic"]=f),"boolean"==typeof v&&(E["aria-busy"]=v),"string"==typeof r&&(E["aria-relevant"]=r),"string"==typeof i&&(E["aria-owns"]=i),"string"==typeof s&&(E["aria-controls"]=s),"string"==typeof u&&(E["aria-roledescription"]=u),n&&(E["aria-haspopup"]=n),"number"==typeof y&&(E.tabIndex=y),h&&(E.role=h),m&&(E["aria-describedby"]=m),p&&(E["aria-labelledby"]=p),g&&(E["aria-errormessage"]=g),E})(z);return n.createElement("div",t()({id:s},b(e),{ref:Q},!Y&&{className:le},{"data-testid":d,onClick:e=>{S||W(e)},onDoubleClick:e=>{S||U(e)},onMouseEnter:e=>{S||X(e)},onMouseLeave:e=>{S||Z(e)}}),n.createElement(...Y?["div",{className:le}]:[n.Fragment,{}],n.createElement(n.Fragment,null,!!g&&n.createElement("label",{htmlFor:"input_"+s,className:i(Te.label,y(Re.inputLabel))},g),n.createElement("div",{className:Te.inputWrapper},T&&n.createElement("div",{className:Te.prefix},T),n.createElement("input",t()({name:l,ref:ee,id:"input_"+s,className:i(Te.input,h,y(Re.inputEl),{[Te.hideNumberSpinner]:N}),type:p,value:oe,onFocus:B,onKeyDown:j,onChange:ae({shouldSetValidityIndication:!0,shouldCallOnInput:!0}),onBlur:e=>{A(e),te&&K({...e,type:"change"}),ne(!1),F(!0)},placeholder:f,readOnly:v,required:E,"aria-required":E,"aria-invalid":O?!V:void 0,pattern:C,maxLength:(()=>{let e=null===I?void 0:I;return P&&(e=P.length),e})(),minLength:P?P.length:void 0,disabled:S,autoComplete:w?"on":x||"off",step:null===M?void 0:M,min:null===k?void 0:k,max:null===L?void 0:L,autoFocus:R,"aria-label":ie||g?ie:f},se))))),n.createElement(Ve,{errorMessageType:_,errorMessage:null==(a=ee.current)?void 0:a.validationMessage,shouldShowValidityIndication:O,translations:$,componentViewMode:J}))};var qe=n.forwardRef(je);const He={left:"onSwipeLeft",right:"onSwipeRight",up:"onSwipeUp",down:"onSwipeDown"},Ke=e=>{if(e.touches&&e.touches.length){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}},We={touched:!0,moved:!1,deltaCoords:{x:0,y:0}},Ue=(e,t,n)=>()=>{let o;const a=e=>{o={...We,numOfTouches:e.touches.length,startCoords:Ke(e),startTime:Date.now(),evObj:{...e}}},r=e=>{if(!o)return;const t=Ke(e);if(t){o.startCoords||(o.startCoords=t);const e=o.startCoords.x-t.x,n=o.startCoords.y-t.y;o.moved=!0,o.deltaCoords={x:e,y:n}}},l=()=>{if(o)if(o.endTime=Date.now(),"onTap"===e&&(e=>e.touched&&!e.moved&&1===e.numOfTouches)(o))t(o.evObj);else if((e=>e.moved&&1===e.numOfTouches&&e.endTime-e.startTime<500&&(Math.abs(e.deltaCoords.x)>100||Math.abs(e.deltaCoords.y)>60))(o)){const n=((e,t)=>{let n;return n=Math.abs(e)>Math.abs(t)?e>0?"left":"right":t>0?"up":"down",n})(o.deltaCoords.x,o.deltaCoords.y);e===He[n]&&t(o.evObj)}};return n&&n.current&&(n.current.addEventListener("touchstart",a,{passive:!0}),n.current.addEventListener("touchmove",r,{passive:!0}),n.current.addEventListener("touchend",l,{passive:!0})),()=>{n&&n.current&&(n.current.removeEventListener("touchstart",a),n.current.removeEventListener("touchmove",r),n.current.removeEventListener("touchend",l))}};var Xe;function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ze.apply(this,arguments)}var ze=function(e){return n.createElement("svg",Ze({width:8,height:9,viewBox:"0 0 8 9",xmlns:"http://www.w3.org/2000/svg"},e),Xe||(Xe=n.createElement("path",{d:"M8 1.057 7.293.35 4 3.643.707.35 0 1.057 3.293 4.35 0 7.643l.707.707L4 5.057 7.293 8.35 8 7.643 4.707 4.35 8 1.057Z",fill:"currentcolor"})))},Qe="dHwu5A";const $e=e=>{let{onClick:t,label:o}=e;return n.createElement("div",{"aria-label":o,role:"button",tabIndex:0,className:Qe,"data-testid":"clear-button",onClick:t,onKeyDown:f},n.createElement(ze,null))};var Je="nNn3mc",Ye="LIyiar",Ge="fkomZa",et="LYhw1A",tt="FwtNU8";const nt={autoComplete_:"off",autoComplete:!1,required:!1,shouldShowValidityIndication:!1,skin:"ResponsiveTextInputSkin",validateValueAndShowIndication:()=>{}},ot=e=>{let{autocompleteValue:a,changeValue:r,clearButtonLabel:l,clearValue:s,containerRef:u,id:c,inputRef:d,isDisabled:m,onAutocomplete:p,onBlur:g,onChange:f,onClick:h,onDblClick:v,onFocus:b,onKeyPress:S,placeholder:C,value:w,isModalSuggestionsShown:x}=e;const I=Boolean(w),k=(0,n.useCallback)((e=>{e!==w&&(r(e),null==f||f({type:"change",compId:c,previousValue:w}))}),[c,r,f,w]);(0,n.useEffect)((()=>{const e=document.activeElement;e&&e.id.includes(c)&&!x&&e.dispatchEvent(new FocusEvent("focus"))}),[]);const[L,M,N,O]=(e=>{let{autocompleteValue:t,id:o,onAutocomplete:a,onChange:r,value:l}=e;const[i,s]=(0,n.useState)(!0),u=(0,n.useMemo)((()=>{if(!t||!i)return"";const e=l.toLocaleLowerCase().trimStart();if(!e)return"";const n=t.toLocaleLowerCase();if(!n.startsWith(e)||n===e)return"";const o=t.substr(e.length);return""+l+o}),[t,l,i]),c=(0,n.useCallback)((()=>{r(u),null==a||a({type:"autocomplete",compId:o,previousValue:l})}),[o,u,r,a,l]),d=(0,n.useCallback)((e=>{if(!u)return;const{key:t,currentTarget:n}=e,{selectionStart:o,selectionEnd:a}=n;if("Tab"===t)e.preventDefault(),e.stopPropagation();else if("ArrowRight"!==t||o!==a||o!==l.length)return;c()}),[u,l,c]),m=(0,n.useCallback)((()=>{u&&c()}),[u,c]);return[u,d,e=>{const{scrollLeft:t,scrollWidth:n,clientWidth:o}=e.currentTarget;s(0===t&&n<=o)},m]})({autocompleteValue:a,id:c,onAutocomplete:p,onChange:k,value:w});var V,R,T;return V="onSwipeRight",R=O,T=u,n.useEffect(Ue(V,R,T),[V,T,R]),o().createElement("div",{className:i(Je,{[Ye]:I})},o().createElement("div",{className:et},L&&o().createElement(qe,t()({},nt,{className:Ge,inputType:"text",id:"search-box-autocomplete-input-"+c,dataTestId:"search-box-autocomplete-input",isDisabled:!0,readOnly:!0,value:L})),o().createElement(qe,t()({},nt,{className:i(tt,y(E.input)),inputType:"search",ariaAttributes:{label:C},id:"search-box-input-"+c,dataTestId:"search-box-input",isDisabled:m,maxLength:100,onBlur:g,onClick:h,onDblClick:v,onFocus:b,onInput:e=>{N(e)},onValueChange:k,onKeyPress:e=>{M(e),null==S||S(e)},placeholder:C,readOnly:m,ref:d,value:w,name:"q"}))),I&&o().createElement($e,{onClick:s,label:l}))};var at="TmqMif";const rt=()=>n.createElement("div",{className:i(at,y(E.icon))},n.createElement(X,null));var lt="aXOBOn",it="KsMOVs",st="ipSfdV",ut="lS0Z88";const ct=e=>{let{autocompleteValue:t,changeValue:a,clearButtonLabel:r,clearValue:l,id:s,inputRef:u,isDisabled:c,onAutocomplete:d,onBlur:m,onChange:p,onClick:g,onDblClick:f,onFocus:v,onKeyPress:b,placeholder:y,searchButtonLabel:E,value:S,isModalSuggestionsShown:C}=e;const w=(0,n.useRef)(null);return o().createElement("div",{className:lt,ref:w},o().createElement("div",{className:it}),o().createElement("div",{className:st,"data-testid":"search-icon"},o().createElement(rt,null)),o().createElement(ot,{containerRef:w,clearButtonLabel:r,isDisabled:c,id:s,inputRef:u,onBlur:m,clearValue:l,onClick:g,onDblClick:f,onFocus:v,onChange:p,onKeyPress:b,onAutocomplete:d,placeholder:y,autocompleteValue:t,changeValue:a,value:S,isModalSuggestionsShown:C}),o().createElement("button",{"aria-label":E,className:i(ut,h),onClick:e=>{e.stopPropagation()},type:"submit"},o().createElement(rt,null)))};var dt="wdVIxK",mt="yu5tzD",pt="shCc15",gt="Btc0MU";const ft=e=>{let{autocompleteValue:t,changeValue:n,clearButtonLabel:a,clearValue:r,dataTestId:l,expandedDesktopSuggestions:s,handleKeyDown:u,handleSubmit:c,id:d,inputRef:m,isDisabled:p,onAutocomplete:g,onBlur:f,onChange:h,onClick:v,onDblClick:b,onFocus:y,onKeyPress:E,placeholder:S,defaultFormAction:C,value:w,isModalSuggestionsShown:x}=e;return o().createElement("form",{className:i(dt,{[gt]:!!s,[mt]:!!t}),"data-testid":l,onSubmit:c,role:"search",action:C,onClick:()=>{var e;return null==(e=m.current)?void 0:e.focus()},onKeyDown:u},o().createElement(ct,{clearButtonLabel:a,isDisabled:p,id:d,inputRef:m,onBlur:f,clearValue:r,onClick:v,onDblClick:b,onFocus:y,onChange:h,onKeyPress:E,onAutocomplete:g,placeholder:S,searchButtonLabel:S,changeValue:n,autocompleteValue:t,value:w,isModalSuggestionsShown:x}),o().createElement("input",{className:pt,type:"submit",tabIndex:-1,"aria-hidden":"true",value:S}))};var ht="QdV_oU",vt="btVOrl",bt="HRqysE";function yt(e){let{searchButtonLabel:t,onFocus:n}=e;return o().createElement("button",{"aria-label":t,className:i(bt,h),onFocus:n,onClick:e=>{e.stopPropagation()}},o().createElement(rt,null))}const Et=(e,a)=>{const{autocompleteEnabled:r,changeValue:l,clearSuggestions:m,closeParentContainer:p=!1,closeSuggestions:g,direction:f,id:h,className:v,customClassNames:S=[],isDisabled:C=!1,isSuggestionsOpen:w=!1,onAutocomplete:x,onBlur:I,onChange:k,onClear:L,onClick:M,onDblClick:N,onFocus:O,onKeyPress:V,onModalSuggestionsClose:R,onModalSuggestionsOpen:T,onMouseEnter:P,onMouseLeave:_,onSubmit:D,onSuggestionsFooterClick:F,placeholder:A="",suggestions:B,suggestionsEnabled:j=!1,suggestionsLoading:q=!1,translations:H,useModalSuggestions:K,defaultFormAction:W,value:U="",layout:X,scopedClassName:Z}=e,z=r&&e.autocompleteValue||"",[Q,$]=(0,n.useState)(!1);(0,n.useImperativeHandle)(a,(()=>({focus:()=>{var e;null==(e=J.current)||e.focus()},blur:()=>{var e;null==(e=J.current)||e.blur()}})));const J=(0,n.useRef)(null),Y=(0,n.useRef)(null),G=(0,n.useRef)(null),{shouldShowSuggestions:ee,resetSuggestionsVisibility:te}=(e=>{let{isSuggestionsOpen:t,parentRef:o,suggestions:a,suggestionsEnabled:r,useModalSuggestions:l}=e;const[i,s]=(0,n.useState)(!0),u=(0,n.useCallback)((()=>{s(!0)}),[]);(0,n.useEffect)(u,[r,t,u]);const c=(0,n.useCallback)((()=>{s(!1)}),[]);return se("focus",[o],c),se("click",[o],c),{shouldShowSuggestions:Boolean(r&&t&&(l||i&&a)),resetSuggestionsVisibility:u}})({isSuggestionsOpen:w,parentRef:G,suggestions:B,suggestionsEnabled:j,useModalSuggestions:K});(0,n.useEffect)((()=>{if(K)return ee?null==T||T():null==R||R({closeParentContainer:p}),()=>{null==R||R({closeParentContainer:p})}}),[ee,K]);const{activeOptionIndex:ne,moveDown:oe,moveUp:ae,navigate:re,scrollIntoRef:ue,suggestionsWithNavigation:ce}=ie(e,ee),de=()=>{U&&(l(""),m(),null==k||k({type:"change",compId:h,previousValue:U}),null==L||L({type:"clear",compId:h,previousValue:U}))},me=Boolean(ee&&ce),pe=me&&K,ge=ce.items.filter((e=>{let{type:t}=e;return"item"===t})).length,fe=ge>0?H.numberOfSuggestionsEntries.replace(/{{amount}}/g,""+ge):void 0,he={autocompleteValue:z,changeValue:l,clearButtonLabel:H.clearButtonText,clearValue:de,handleKeyDown:e=>{if(e.keyCode===u&&(me&&!pe?g():pe?(g(),de()):de(),e.preventDefault()),ee){const t={[c]:ae,[d]:oe,[s]:-1!==ne?re:void 0}[e.keyCode];t&&(t(),e.preventDefault())}},handleSubmit:e=>{var t;e.preventDefault(),null==(t=J.current)||t.blur(),null==D||D({type:"submit",compId:h})},id:h,isDisabled:C,onAutocomplete:x,onChange:k,onClick:M,onDblClick:N,onKeyPress:V,placeholder:A,defaultFormAction:W,value:U,isModalSuggestionsShown:pe},ve="icon-only"===X;return o().createElement("div",t()({id:h},b(e),{dir:f,ref:G,className:i(vt,{[ht]:ee,"search-box-component-focus-ring-visible":Q},v,y(E.root,...S)),onMouseEnter:P,onMouseLeave:_,"aria-live":"polite","aria-label":fe,"data-testid":"search-box-container",tabIndex:-1}),pe&&o().createElement(Ie,{id:h,closeSuggestions:g,clearValue:de,inputRef:Y,onSuggestionsFooterClick:F,query:U,scrollIntoRef:ue,suggestions:ce,suggestionsLoading:q,translations:H,direction:f,scopedClassName:Z},o().createElement(ft,t()({},he,{dataTestId:"modal-suggestions-search-box-form",inputRef:Y}))),ve?o().createElement(yt,{searchButtonLabel:A,onFocus:O}):o().createElement(le,{id:h,parentRef:G,useModalSuggestions:K,isSuggestionsShown:me&&!pe,onSuggestionsFooterClick:F,query:U,scrollIntoRef:ue,suggestions:ce,translations:H},o().createElement(ft,t()({},he,{dataTestId:"search-box-form",expandedDesktopSuggestions:ee,inputRef:J,onBlur:e=>{null==I||I(e),$(!1)},onFocus:e=>{null==O||O(e),$(!0),te()}}))))};const St=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var Ct;const wt={SearchBox:{component:o().forwardRef(Et),controller:(Ct=e=>{let{mapperProps:t,controllerUtils:n,stateValues:o}=e;const{compId:a,isMobileView:r,...l}=t,{isScrollingBlocked:i,setSiteScrollingBlocked:s,enableCyclicTabbing:u,disableCyclicTabbing:c,getMenuContainerApiByChildId:d,scopedClassName:m}=o,p={...l,closeSuggestions(){n.updateProps({isSuggestionsOpen:!1,closeParentContainer:!1,suggestionsLoading:!1})},clearSuggestions(){n.updateProps({suggestions:null})},changeValue(e){n.updateProps({value:e})}};return r?{...p,onModalSuggestionsOpen:()=>{i||s(!0,a),u(a)},onModalSuggestionsClose:function(e){let{closeParentContainer:t=!1}=void 0===e?{}:e;if(i&&s(!1,a),t){const e=null==d?void 0:d(a);null==e||e.close(!0)}c(a)},scopedClassName:m}:p},{useComponentProps:(e,t,n)=>{const o=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(o=t,o.startsWith("--")?t:St(t))]:void 0===n?null:n};var o}),{});e.updateStyles(n)}}))(n);return Ct({mapperProps:e,stateValues:t,controllerUtils:o})}})}}}(),l}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[SearchBox].eda1c945.bundle.min.js.map